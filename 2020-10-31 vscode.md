---
tags:
  - vscode
  - memo
---

# VScode のメモ {ignore=true}

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [VScode のメモ {ignore=true}](#vscode-のメモ-ignoretrue)
  - [extention](#extention)
  - [VS notes](#vs-notes)
    - [VS notes のセットアップ](#vs-notes-のセットアップ)
    - [Markdown Preview Enhanced の表示設定](#markdown-preview-enhanced-の表示設定)
    - [設定ファイル](#設定ファイル)
  - [VScode で引数を渡してデバッグする](#vscode-で引数を渡してデバッグする)
  - [ショートカット](#ショートカット)
  - [コマンド](#コマンド)
  - [VS code のマルチカーソル](#vs-code-のマルチカーソル)
  - [VS code で正規表現を使って置換](#vs-code-で正規表現を使って置換)
  - [VSCode でファイルを開いた時にタブが上書きされる問題を回避する](#vscode-でファイルを開いた時にタブが上書きされる問題を回避する)

<!-- /code_chunk_output -->

## extention

- vsnotes
- Prettier - Code formatter
- markdownlint
- Markdown Checkbox
- Markdown Preview Enhanced
- Markdown All in One
- Bookmarks
- Git Graph
- python
- vscode-icons
- Japanese Language Pack
- Rainbow CSV
- Draw.io Integration
- Edit csv
- Python Docstring Generator
- SandDance for VSCode
- Excel to Markdown table

## VS notes

### VS notes のセットアップ

下の設定ファイルをワンセット

ファイル　 → 　ユーザ設定　 → 　設定　 → 　ユーザ　 → 拡張機能　 → 　 VSNotes configuration

a. 保管フォルダを設定
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/274127/5a541ed8-79be-c267-ed42-d0d11aabc75c.png)

b. スニペットの登録
[Code]> [基本設定] > [ユーザースニペット] で、markdown.json を開き、下記を追加
　※vsnote_template_xxx の xxx の部分がテンプレートの名前になる。あとの設定で xxx を登録する

```snipet.json
"vsnote_template_base": {
    "prefix": "vsnote_template_base",
    "body": [
        "---",
        "tags:",
        "\t- base",
        "---",
        "\n# $TM_FILENAME_BASE\n",
        "$1",
    ],
    "description": "base Template",
    }
```

c. 初期のファイル名とスニペットの登録
上記のページで、右上のアイコンをクリックして、json の設定を開いて、下の設定を追加
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/274127/066206a6-5b89-de49-d493-dbb83544e194.png)

スニペットは、vsnotes.templates で上記の xxx を入力。例では base

### Markdown Preview Enhanced の表示設定

下の設定ファイルをワンセット

- ctrl+shift+p を押し、 Markdown Preview Enhanced: Customize Css を開く
  見出しの下線と番号を入れる（インストール後、一回プレビューをしないと、エラーになるので注意！）

```Markdown Preview Enhanced.json
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

.markdown-preview.markdown-preview {
  // modify your style here
  // eg: background-color: blue;
  body{
    counter-reset: chapter;
  }
  h1 {
    counter-reset: sub-chapter;
    padding: 0.4em 0.5em;/*文字の上下 左右の余白*/
    color: #494949;/*文字色*/
    background: #f4f4f4;/*背景色*/
    border-left: solid 5px #7db4e6;/*左線*/
    border-bottom: solid 3px #d7d7d7;/*下線*/
  }
  h2 {
    counter-reset: section;
    position: relative;
    padding: 0.4em;
    background: #7db4e6;
    color: white;
  }
  h2::before{
    counter-increment: sub-chapter;
    content: counter(sub-chapter) ". ";
  }
  h3 {
    counter-reset: sub-section;
    position: relative;
    padding: 0.3em;
    background: #f3f2c2;
    color: rgb(0, 0, 0);
  }
  h3::before{
    counter-increment: section;
    content: counter(sub-chapter) "." counter(section) ". ";
  }
  h4{
    counter-reset: sub-sub-section;
  }
  h4::before{
    counter-increment: sub-section;
    content: counter(sub-chapter) "." counter(section) "." counter(sub-section) ".";
  }
  h5::before{
    counter-increment: sub-sub-section;
    content: counter(sub-chapter) "." counter(section) "." counter(sub-section) "." counter(sub-sub-section) ".";
  }
  }

  .md-sidebar-toc.md-sidebar-toc {
  padding-top: 40px;
  }

  #sidebar-toc-btn {
  bottom: unset;
  top: 8px;
  }
```

### 設定ファイル

- settings.json を開いて、下記を追加

```setting.json
{
    "vsnotes.noteTitleConvertSpaces": " ",
    "vsnotes.defaultNoteTitle": "{dt} {title}.{ext}",
    "vsnotes.tokens": [
    {
        "type": "datetime",
        "token": "{dt}",
        "format": "YYYY-MM-DD",
        "description": "Insert formatted datetime."
    },
    {
        "type": "title",
        "token": "{title}",
        "description": "Insert note title from input box.",
        "format": "Untitled"
    },
    {
        "type": "extension",
        "token": "{ext}",
        "description": "Insert file extension.",
        "format": "md"
    }
    ],
    "vsnotes.templates": [
        "base",
      ],
    "markdown-preview-enhanced.enableExtendedTableSyntax": true,
    "markdown-preview-enhanced.enableScriptExecution": true,
    "markdown-preview-enhanced.previewTheme": "github-light.css",
    "markdown.preview.breaks": true,
    "markdown.extension.orderedList.marker": "one",
    "markdown.extension.orderedList.autoRenumber": false,
    "markdown.extension.syntax.decorations": false,
    "markdown.extension.tableFormatter.enabled": false,
}
```

## VScode で引数を渡してデバッグする

.vscode\launch.json 　の中に"args":["arg1", "arg2"]を追加する。これで、"arg1", "arg2"が引数として渡される。上記設定の上、uke.py を実行すると、"arg1", "arg2"がプリント出力される

```launch.json
{
    // IntelliSense を使用して利用可能な属性を学べます。
    // 既存の属性の説明をホバーして表示します。
    // 詳細情報は次を確認してください: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "args":["arg1", "arg2"]
        }
    ]
}
```

```uke.py
import sys

param = sys.argv

print(param[1])
print(param[2])
```

## ショートカット

- コマンドパレット　 F1 　または　 Ctrl+Shift+P
- view の拡大/縮小　 Ctrl 　+　/　 Ctrl 　-
- エクスプローラを表示　 Ctrl+Shift+E
- 関数の説明（パラメーター ヒント）を表示　 Ctrl+Shift+Space
- 入力候補 Ctrl+Space
- コード整形ツール(Fomatter)　：　 Shift + Alt + F
- bookmark : Alt+Ctrl+K
- Excel to Markdown table : Shift+Alt+V
- タブの選択　：　Ctrl + Tab

## コマンド

- 目次（TOC ：table of contents)を追加　: Markdown Preview Enhanced Create TOC
  > create toc と打つと、"Markdown Preview Enhanced Create TOC"が出るので、これを実行すると、
  > `<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->`が出てくる。
  > 保存する度に目次を作ってくれる。
  > 無視したいものは、`# VScode のメモ {ignore=true}`のように、`{ignore=true}`を付ける

## VS code のマルチカーソル

- Ctrl + D で選択中のキーワードを一件ずつ選択していく。Ctrl + K -> Ctrl + D で１件飛ばせる

## VS code で正規表現を使って置換

print("任意の文字列")が print("任意の文字列これを足します")に変わります。便利！

- 検索文字列　 `print\("(.\*)"\)`
- 置換　　　　 `print("\$1 これを足します")`

## VSCode でファイルを開いた時にタブが上書きされる問題を回避する

`https://qiita.com/kgoto/items/265e3eb8a82778e33cfe`

- ファイルをダブルクリックして開く
- 設定に`"workbench.editor.enablePreview": false`を追加する

※　vsnoteではダブルクリックではダメだったので、設定に追加した
